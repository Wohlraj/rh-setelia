<% provide(:title, "#{@user.first_name} #{@user.last_name}") %>

<p id="notice"><%= notice %></p>

<% @user.attributes.each do |attr_name, attr_value| %>
  <% next if attr_name["attachment"] || attr_name == "id" || attr_value.nil? || attr_value=="" || attr_name=="first_name" || attr_name=="last_name" %>
  <% case attr_name %>
    <% when "experience" %>
      <% attr_value=User::EXPERIENCE[attr_value] %>
    <% when "mobility" %>
      <% attr_value=User::MOBILITY[attr_value] %>
    <% when "salary" %>
      <% attr_value=User::SALARY[attr_value] %>
    <% when "interview_result" %>
      <% attr_value=User::INTERVIEW_RESULT[attr_value] %>
    <% when "interview_state" %>
      <% attr_value=User::INTERVIEW_STATE[attr_value] %>
    <% when "contract" %>
      <% attr_value=User::CONTRACT[attr_value] %>
    <% when "international_mobility" %>
      <% attr_value=t(attr_value.to_s) %>
  <% end %>
  <p>
    <b><%= User.human_attribute_name(attr_name) %></b>
    <%= attr_value.to_s %>
  </p>
<% end %>

<% if @user.attachment.present? %>
  <p>
    <b>Pièce jointe :</b>
    <%= link_to @user.attachment.original_filename, @user.attachment.url if @user.attachment.present? %> <%= "(#{@user.attachment.size/1024/1024} Mo.)" %>
  </p>
<% end %>

<% unless @skills.empty? %>
  <p>
    <b>Compétences :</b>
    <ol class="skills">
      <%= render @skills %>
    </ol>
  </p>
<% end %>

<% unless @speaks.empty? %>
  <p>
    <b>Langues :</b>
    <ol class="speaks">
      <%= render @speaks %>
    </ol>
  </p>
<% end %>

<% unless @events.empty? %>
  <p>
    <b>Historique :</b>
    <table class="table table-striped">
      <thead>
        <tr>
          <td><%= Event.human_attribute_name(:description) %></td>
          <td><%= Event.human_attribute_name(:date) %></td>
        </tr>
      </thead>
    <%= render @events %>
    </table>
  </p>
<% end %>


<%= link_to 'Ajout événement', new_user_event_path(@user) %> |
<%= link_to 'Edition', edit_user_path(@user) %>